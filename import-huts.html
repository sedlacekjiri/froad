<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Import Huts to Firebase</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: #1a1a1a;
      color: #00ff00;
      padding: 40px;
      max-width: 800px;
      margin: 0 auto;
    }
    h1 {
      color: #00ff00;
      text-align: center;
    }
    .log {
      background: #000;
      padding: 20px;
      border-radius: 8px;
      border: 2px solid #00ff00;
      margin-top: 20px;
      height: 400px;
      overflow-y: auto;
      font-size: 14px;
      line-height: 1.6;
    }
    .success { color: #00ff00; }
    .error { color: #ff0000; }
    .info { color: #00aaff; }
    button {
      display: block;
      width: 100%;
      padding: 16px;
      background: #00ff00;
      color: #000;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background: #00cc00;
    }
    button:disabled {
      background: #666;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <h1>üèîÔ∏è Import Huts to Firebase</h1>
  <button id="importBtn">START IMPORT</button>
  <div class="log" id="log"></div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

  <script>
    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDDMNnJgtm-gK9OrVev7qmBRpaA8CAoDiM",
      authDomain: "froad-7d561.firebaseapp.com",
      projectId: "froad-7d561",
      storageBucket: "froad-7d561.firebasestorage.app",
      messagingSenderId: "1086299585443",
      appId: "1:1086299585443:web:10bcb67effd6a89c24f816"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Original huts data from explore.html
    const huts = [
      {
        name: "Skagfj√∂r√∞ssk√°li Hut",
        lat: 63.68494490,
        lng: -19.51262140,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/skagfjordsskali",
        photoURL: "https://cdn.prod.website-files.com/687ebffd20183c0459d68784/68ae0ff249c12184e1865dd2_68801a4989de05ba76b8416f_Langidalur%20thorsmrok7035-p-800.jpg",
        status: "open",
        description: "Mountain hut in Skagfj√∂r√∞ur area"
      },
      {
        name: "Bl√°gil Hut",
        lat: 63.9666976,
        lng: -18.3219473,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/blagil",
        photoURL: "https://cdn.prod.website-files.com/687ebffd20183c0459d68784/68b84d0210496000a2be05fa_blagil-hut.jpg",
        status: "open",
        description: "Mountain hut near Landmannalaugar"
      },
      {
        name: "Str√∫tur Hut",
        lat: 63.83905,
        lng: -18.97444,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/strutur",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68d2fa0b5debc742b87c93c5_strutur-hut.jpg",
        status: "open",
        description: "Mountain hut in the highlands"
      },
      {
        name: "Nyidalur FI Mountain Hut",
        lat: 64.734942,
        lng: -18.072574,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/nyidalur",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68d312f811a8886b8ba28814_nyidalur-hut.jpg",
        status: "open",
        description: "One of the most popular mountain huts in Iceland"
      },
      {
        name: "√ûorsteinssk√°li",
        lat: 65.19287,
        lng: -16.22264,
        link: "https://www.fi.is/is/skalar/skalar-ferdafelags-islands/thorsteinsskali",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68de7bdedbd383c39dcdf325_%C3%BEorsteinsskali.jpg",
        status: "open",
        description: "Mountain hut in East Iceland"
      },
      {
        name: "J√∂kulheimar Hut",
        lat: 64.310308,
        lng: -18.238683,
        link: "https://jorfi.is/skalar/",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68debb983343ba71692c3230_jokulhemair-hut.jpg",
        status: "open",
        description: "Glacier hut near Sprengisandur"
      },
      {
        name: "Hagavatn Hut",
        lat: 64.462549,
        lng: -20.243930,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/hagavatn",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68deddb6dc2b4952ac55fff3_hagavatn-hut.jpg",
        status: "open",
        description: "Hut by Hagavatn lake"
      },
      {
        name: "√ûj√≥fadalir Hut",
        lat: 64.814895,
        lng: -19.708942,
        link: "https://www.fi.is/is/skalar/skalar-ferdafelags-islands/thjofadalir",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68e189b1cf566080a196e157_thjofadalir-hut.jpg",
        status: "open",
        description: "Remote mountain hut"
      },
      {
        name: "Laugafell Hut",
        lat: 65.027588,
        lng: -18.332083,
        link: "https://www.fi.is/is/skalar/skalar-ferdafelags-islands/laugafell",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68e19ded309f06bd2d82b748_laugafell-hut.jpg",
        status: "open",
        description: "Hot spring hut in North Iceland"
      },
      {
        name: "H√∫sav√≠k Hut",
        lat: 65.395086,
        lng: -13.735203,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/husavik",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68e59ffa08f06c7e5eb7bfa5_husavikurskalli-hut.jpg",
        status: "open",
        description: "Mountain hut in North-East Iceland"
      },
      {
        name: "Lo√∞mundarfjar√∞arsk√°li Hut",
        lat: 65.365173,
        lng: -13.896074,
        link: "https://www.east.is/en/service/ferdafelag-fljotsdalsherads-lodmundarfjordur-klyppstadur",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68e5a24dd6d78a1717fb1328_lodmundarfjardarskalli.webp",
        status: "open",
        description: "East fjords mountain hut"
      },
      {
        name: "M√∫lask√°li Hut",
        lat: 64.552585,
        lng: -15.151429,
        link: "https://gonguferdir.is/mulaskali/",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/68e91fa34a83e3b8795a882c_mulaskali-hut.jpg",
        status: "open",
        description: "Hiking hut in East Iceland"
      },
      {
        name: "H√≥laskj√≥l",
        lat: 63.907473,
        lng: -18.604534,
        link: "https://www.eldgja.is/",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/690e4b6d8835097d4f6a74dd_holaskjol.jpg",
        status: "open",
        description: "Shelter near Eldgj√° canyon"
      },
      {
        name: "√Ålftavatn Hut",
        lat: 63.857772,
        lng: -19.227372,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/alftavatn",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/690fa74678d5969fded1584e_alftavatn-hut.webp",
        status: "open",
        description: "Popular stop on Laugavegur trail"
      },
      {
        name: "√Åfangagil Hut",
        lat: 64.101053,
        lng: -19.575073,
        link: "https://www.afangagil.is/",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/690fb41dd72653d601c7d1ab_afangagil-hut.avif",
        status: "open",
        description: "Mountain hut in Fjallabak area"
      },
      {
        name: "Tjarnarkot Hut",
        lat: 64.13357,
        lng: -18.78825,
        link: "https://veidivotn.is/veidileyfi-og-gisting/",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/690fccb69a5d8e0436ae8d0e_tjarnarkot-hut.webp",
        status: "open",
        description: "Hut in Vei√∞iv√∂tn fishing area"
      },
      {
        name: "√Årb√∫√∞ir Hut",
        lat: 64.609206,
        lng: -19.703609,
        link: "https://islandshestar.is/kjolur-nature-escape/",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/690fd7760dc7f93e80efe01d_arbudir.avif",
        status: "open",
        description: "Hut on Kj√∂lur route"
      },
      {
        name: "Hv√≠t√°rnes Hut",
        lat: 64.617945,
        lng: -19.757752,
        link: "https://www.fi.is/en/mountain-huts/all-mountain-huts/hvitarnes",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/690fd58f9314bb340d7a0930_hvitarnes-hut.jpg",
        status: "open",
        description: "Hut near Langj√∂kull glacier"
      },
      {
        name: "G√≠slask√°li Hut",
        lat: 64.743487,
        lng: -19.431748,
        link: "https://islandshestar.is/kjolur-nature-escape/",
        photoURL: "https://cdn.prod.website-files.com/687ebfrd20183c0459d68784/690fd7d837dad6ad2875a9f0_gislaskali-hut.avif",
        status: "open",
        description: "Kj√∂lur highland hut"
      }
    ];

    const logEl = document.getElementById('log');
    const importBtn = document.getElementById('importBtn');

    function log(message, type = 'info') {
      const time = new Date().toLocaleTimeString();
      const className = type;
      logEl.innerHTML += `<div class="${className}">[${time}] ${message}</div>`;
      logEl.scrollTop = logEl.scrollHeight;
    }

    async function importHuts() {
      importBtn.disabled = true;
      importBtn.textContent = 'IMPORTING...';

      log('üöÄ Starting huts import...', 'info');
      log(`üìä Total huts to import: ${huts.length}`, 'info');
      log('‚îÄ'.repeat(60), 'info');

      let successCount = 0;
      let errorCount = 0;

      for (const hut of huts) {
        try {
          await db.collection('huts').add({
            name: hut.name,
            lat: hut.lat,
            lng: hut.lng,
            link: hut.link || '',
            photoURL: hut.photoURL || '',
            status: hut.status || 'open',
            description: hut.description || '',
            price: hut.price || null,
            contact: hut.contact || '',
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
          });

          successCount++;
          log(`‚úÖ Imported: ${hut.name}`, 'success');

          // Small delay to avoid overwhelming Firebase
          await new Promise(resolve => setTimeout(resolve, 200));
        } catch (error) {
          errorCount++;
          log(`‚ùå Error importing ${hut.name}: ${error.message}`, 'error');
        }
      }

      log('‚îÄ'.repeat(60), 'info');
      log(`‚ú® Import complete!`, 'success');
      log(`‚úÖ Success: ${successCount}`, 'success');
      if (errorCount > 0) {
        log(`‚ùå Errors: ${errorCount}`, 'error');
      }
      log('‚îÄ'.repeat(60), 'info');
      log('üéâ You can now close this page and check admin panel!', 'success');

      importBtn.textContent = 'IMPORT COMPLETE ‚úì';
    }

    importBtn.addEventListener('click', importHuts);

    log('üìã Ready to import huts to Firebase', 'info');
    log('‚ö†Ô∏è  Make sure you have proper Firebase permissions', 'info');
    log('üîò Click the button above to start import', 'info');
  </script>
</body>
</html>
